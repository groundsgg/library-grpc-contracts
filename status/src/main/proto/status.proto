syntax = "proto3";

package gg.grounds.grpc.status;

option java_multiple_files = true;
option java_package = "gg.grounds.grpc.status";
option java_outer_classname = "StatusServiceProto";

import "google/protobuf/empty.proto";

import "motd.proto";
import "maintenance.proto";
import "proxy.proto";
import "snapshot.proto";


service StatusService {

  // ---------- MOTD ----------
  rpc CreateMotd(CreateMotdRequest) returns (Motd);
  rpc UpdateMotd(UpdateMotdRequest) returns (Motd);
  rpc GetMotd(GetMotdRequest) returns (Motd);
  rpc DeleteMotd(DeleteMotdRequest) returns (google.protobuf.Empty);
  rpc ListMotds(ListMotdsRequest) returns (ListMotdsResponse);
  rpc GetActiveMotd(GetActiveMotdRequest) returns (GetActiveMotdResponse);

  // ---------- MAINTENANCE ----------
  rpc GetMaintenance(GetMaintenanceRequest) returns (GetMaintenanceResponse);
  rpc SetMaintenance(SetMaintenanceRequest) returns (GetMaintenanceResponse);

  rpc AddWhitelist(AddWhitelistRequest) returns (WhitelistEntry);
  rpc RemoveWhitelist(RemoveWhitelistRequest) returns (google.protobuf.Empty);
  rpc ListWhitelist(ListWhitelistRequest) returns (ListWhitelistResponse);

  // ---------- PROXY ----------
  rpc SendHeartbeat(SendHeartbeatRequest) returns (SendHeartbeatResponse);

  // ---------- SYNC ----------
  rpc SubscribeStatus(SubscribeStatusRequest) returns (stream StatusEvent);
}
